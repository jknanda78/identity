(this["webpackJsonpidentity-app"]=this["webpackJsonpidentity-app"]||[]).push([[0],{37:function(e,t,a){},45:function(e,t,a){e.exports=a(77)},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Type",(function(){return $})),a.d(n,"setGlobalNotification",(function(){return z})),a.d(n,"unsetGlobalNotification",(function(){return Z}));var r={};a.r(r),a.d(r,"Type",(function(){return J})),a.d(r,"addNewInput",(function(){return Y})),a.d(r,"createNewForm",(function(){return K})),a.d(r,"onBlurInput",(function(){return ee})),a.d(r,"onChangeInput",(function(){return te})),a.d(r,"onFormSubmit",(function(){return ae})),a.d(r,"clearForm",(function(){return ne})),a.d(r,"formSubmission",(function(){return re}));var i={};a.r(i),a.d(i,"Type",(function(){return ye})),a.d(i,"httpRequest",(function(){return Ne}));var o=a(0),c=a.n(o),l=a(11),u=a.n(l),s=a(4),m=a(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d,f,E,b,p,v,O=a(2),y=a(7),N=a(1),_=a(80),h="@@observable/HTTP_REQUEST",I=Object(_.a)(Object(N.a)({},"@@post/SET_USER_PROFILE",(function(e,t){return t.payload?Object.assign({},e,t.payload):e})),{firstName:"",lastName:"",email:"",phoneNumber:""}),T=Object(_.a)((d={},Object(N.a)(d,"@@notify/SET_GLOBAL_NOTIFICATION",(function(e,t){return t.payload?Object.assign({},e,t.payload,{notify:!0}):e})),Object(N.a)(d,"@@notify/UNSET_GLOBAL_NOTIFICATION",(function(e){return Object.assign({},e,{notify:!1,notifyType:"",notifyMessage:""})})),d),{notify:!1,notifyType:"",notifyMessage:""}),g=Object(_.a)((f={},Object(N.a)(f,h,(function(e,t){return Object.assign({},e,{isSubmitting:!0})})),Object(N.a)(f,"@@observable/HTTP_REQUEST_FAILURE",(function(e){return Object.assign({},e,{isSubmitting:!1})})),Object(N.a)(f,"@@observable/HTTP_REQUEST_SUCCESS",(function(e){return Object.assign({},e,{isSubmitting:!1})})),f),{isSubmitting:!1}),j=a(10),S=(E={},Object(N.a)(E,"VALID_EMAIL_REGX",/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),Object(N.a)(E,"PASS_LENGTH_REGX",/^.{7,15}$/),Object(N.a)(E,"VALID_PASS_REGEX",/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\W]).*$/),E),A=(b={},Object(N.a)(b,"ENTER_VALID_EMAIL","Please enter a valid email address."),Object(N.a)(b,"PASS_LENGTH_NOT_MET_ERR","Password must be 9 to 15 characters."),Object(N.a)(b,"VALID_PASS_ERR","Must have at least 1 number, 1 uppercase and 1 special character."),Object(N.a)(b,"EMPTY_FIELD_ERR","Please enter a valid "),b),L=(p={},Object(N.a)(p,"email",(function(e){if(!S.VALID_EMAIL_REGX.test(e))return A.ENTER_VALID_EMAIL})),Object(N.a)(p,"password",(function(e){return S.PASS_LENGTH_REGX.test(e)?S.VALID_PASS_REGEX.test(e)?void 0:A.VALID_PASS_ERR:A.PASS_LENGTH_NOT_MET_ERR})),Object(N.a)(p,"default",(function(e){if(0===e.length)return A.EMPTY_FIELD_ERR})),p),R=function(e){return function(t){return t[e]}},C=Object(_.a)((v={},Object(N.a)(v,"@@form-field/ADD_NEW_INPUT_FIELD",(function(e,t){var a=t.payload,n=a.formId,r={error:"",fieldId:a.fieldId,hasError:!1,hasValue:!1,validator:a.validator,value:""},i=function(e,t,a){return e.forEach((function(e){e.formId===t&&(e.fields=[a].concat(Object(j.a)(e.fields)))})),e}(e.forms,n,r);return{forms:Object(j.a)(i)}})),Object(N.a)(v,"@@form/CREATE_NEW_FORM",(function(e,t){return{forms:[{fields:[],formId:t.payload.formId,isPristine:!0,isSubmitting:!1,isValid:!1}].concat(Object(j.a)(e.forms))}})),Object(N.a)(v,"@@form-field/ONBLUR_INPUT_FIELD",(function(e,t){var a=t.payload,n=a.formId,r=a.fieldId,i=function(e,t,a){return e.forEach((function(e){if(e.formId===t){e.isPristine=!1;var n=e.fields,r=!0;n.forEach((function(e){if(e.fieldId===a){var t=e.value,n=e.validator,i=R(n)(L)(t);i?(e.error=i,e.hasError=!0,r=!1):(e.error="",e.hasError=!1)}})),e.isValid=r}})),e}(e.forms,n,r);return{forms:Object(j.a)(i)}})),Object(N.a)(v,"@@form-field/ONCHANGE_INPUT_FIELD",(function(e,t){var a=t.payload,n=a.formId,r=a.fieldId,i=a.value,o=function(e,t,a,n){return e.forEach((function(e){e.formId===t&&(e.isPristine=!1,e.fields.forEach((function(e){e.fieldId===a&&(n.length?(e.hasValue=!0,e.value=n):(e.hasValue=!1,e.value=""))})))})),e}(e.forms,n,r,i);return{forms:Object(j.a)(o)}})),Object(N.a)(v,"@@form/SUBMIT_FORM",(function(e,t){var a=t.payload.formId,n=function(e,t){return e.forEach((function(e){if(e.formId===t){e.isPristine=!1;var a=e.fields,n=!0;a.forEach((function(e){var t=e.value,a=e.validator,r=R(a)(L)(t);r?(e.error=r,e.hasError=!0,n=!1):(e.error="",e.hasError=!1)})),e.isValid=n}})),e}(e.forms,a);return{forms:Object(j.a)(n)}})),Object(N.a)(v,"@@form/CLEAR_FORM",(function(e){return Object.assign({},e,{})})),v),{forms:[]}),P=Object(O.c)({formManager:C,globalNotification:T,observable:g,router:m.d,userProfile:I}),F=a(42),M=function(e){return function(t){return function(a){var n=a||{},r=n.type,i=n.payload,o=void 0===i?{}:i;if("@@navigate2/APP_ROUTE"===r&&o.challenge){var c=o.challenge;e.dispatch(Object(m.b)(c))}else if("@@observable/HTTP_REQUEST_SUCCESS"===r&&o.data){var l=(null===o||void 0===o?void 0:o.data)||{},u=l.challenge;Object(F.a)(l,["challenge"]);e.dispatch(Object(m.b)(u))}return t(a)}}},U=a(40),D=a.n(U),G=function(e){return function(t){return function(a){var n=a||{},r=n.type,i=n.payload,o=void 0===i?{}:i,c=o.data,l=o.method,u=o.url;return r===h&&setTimeout((function(){D()({method:l,url:u,data:c}).then((function(t){e.dispatch({type:"@@observable/HTTP_REQUEST_SUCCESS",payload:t})})).catch((function(t){e.dispatch({type:"@@observable/HTTP_REQUEST_FAILURE",payload:t})}))}),2e3),t(a)}}},k=function(e){return function(t){return function(a){var n=a||{},r=n.type,i=n.payload,o=void 0===i?{}:i;if("@@observable/HTTP_REQUEST_FAILURE"===r){var c,l=(null===o||void 0===o||null===(c=o.response)||void 0===c?void 0:c.data)||{},u=l.message,s=l.alert;e.dispatch({type:"@@notify/SET_GLOBAL_NOTIFICATION",payload:{notifyType:s,notifyMessage:u}})}return t(a)}}},w=Object(y.a)({basename:"/identity-app"}),B=Object(m.c)(w),H=a(82),V=a(14),q=a(15),x=a(16),W=a(17),Q=(a(72),function(e){Object(W.a)(a,e);var t=Object(x.a)(a);function a(e){var n;Object(V.a)(this,a),(n=t.call(this,e)).handleOnBlur=function(e){var t=n.props,a=t.actions,r=t.formId,i=t.id;a.onBlurInput({formId:r,fieldId:i})},n.handleOnChange=function(e){var t=n.props,a=t.actions,r=t.formId,i=t.id;a.onChangeInput({formId:r,fieldId:i,value:e.currentTarget.value})};var r=e.formId,i=e.id,o=e.validator;return e.actions.addNewInput({formId:r,fieldId:i,validator:o}),n}return Object(q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.formId,a=e.formManager,n=e.editable,r=void 0===n||n,i=e.id,o=e.label,l=e.placeholder,u=void 0===l?"":l,s=e.type,m=e.value,d=void 0===m?"":m,f=function(){var e="";return a.forms.forEach((function(a){a.formId===t&&a.fields.forEach((function(t){t.fieldId===i&&t.hasError&&(e=t.error)}))})),e}();return r?c.a.createElement("div",null,c.a.createElement("label",{htmlFor:i,className:f?"error":""},o),c.a.createElement("p",null,c.a.createElement("input",{id:i,placeholder:u,type:s,onBlur:this.handleOnBlur,onChange:this.handleOnChange})),c.a.createElement("p",{className:"field-error"},f||"")):c.a.createElement("div",null,c.a.createElement("label",{htmlFor:i},o),c.a.createElement("p",null,d))}}]),a}(c.a.Component)),X=a(83),$={UNSET_GLOBAL_NOTIFICATION:"@@notify/UNSET_GLOBAL_NOTIFICATION",SET_GLOBAL_NOTIFICATION:"@@notify/SET_GLOBAL_NOTIFICATION"},z=Object(X.a)($.SET_GLOBAL_NOTIFICATION),Z=Object(X.a)($.UNSET_GLOBAL_NOTIFICATION),J={ADD_NEW_INPUT_FIELD:"@@form-field/ADD_NEW_INPUT_FIELD",CREATE_NEW_FORM:"@@form/CREATE_NEW_FORM",CLEAR_FORM:"@@form/CLEAR_FORM",ONBLUR_INPUT_FIELD:"@@form-field/ONBLUR_INPUT_FIELD",ONCHANGE_INPUT_FIELD:"@@form-field/ONCHANGE_INPUT_FIELD",SUBMIT_FORM:"@@form/SUBMIT_FORM"},Y=Object(X.a)(J.ADD_NEW_INPUT_FIELD),K=Object(X.a)(J.CREATE_NEW_FORM),ee=Object(X.a)(J.ONBLUR_INPUT_FIELD),te=Object(X.a)(J.ONCHANGE_INPUT_FIELD),ae=Object(X.a)(J.ONCHANGE_INPUT_FIELD),ne=Object(X.a)(J.CLEAR_FORM),re=Object(X.a)(J.SUBMIT_FORM),ie=Object.assign({},r,n),oe=Object(s.b)((function(e){return{formManager:e.formManager}}),(function(e){return{actions:Object(O.b)(ie,e)}}))(Q),ce=a(81),le=(a(37),a(73),function(e){var t=e.children,a=e.notify,n=e.notifyMessage,r=e.notifyType,i=e.title;return c.a.createElement("div",{className:"standard"},c.a.createElement("div",{className:"wrapper"},c.a.createElement("section",{className:"logo"},c.a.createElement("div",null,"{ .js }")),c.a.createElement("section",{className:"notify"},c.a.createElement(ce.a,{in:a,timeout:500,classNames:"display",unmountOnExit:!0},c.a.createElement("div",{className:"notification"},c.a.createElement("div",{className:"message ".concat(r)},n)))),c.a.createElement("main",null,c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,i)),c.a.createElement("section",{className:"main"},t)),c.a.createElement("section",{className:"footer"},c.a.createElement("footer",null,"\xa9 copyright 2020"))))}),ue=function(e){var t=e.actions,a=e.onClick,n=e.id,r=e.type,i=e.value;return c.a.createElement("div",{className:"buttonAsLink"},c.a.createElement("button",{type:r,id:n,value:i,onClick:function(e){t.unsetGlobalNotification(),"function"===typeof a&&a(e)}},i))},se=Object.assign({},n),me=Object(s.b)((function(){return{}}),(function(e){return{actions:Object(O.b)(se,e)}}))(ue),de=function(e){var t=e.actions,a=e.onClick,n=e.id,r=e.type,i=e.value,o=e.observable.isSubmitting;return c.a.createElement("div",{className:"primary"},c.a.createElement("button",{type:r,id:n,value:i,onClick:function(e){t.unsetGlobalNotification(),"function"===typeof a&&a(e)},disabled:!!o||void 0},c.a.createElement("span",{className:o?"spinner-active":"spinner-inactive"})," ",i))},fe=Object.assign({},n),Ee=Object(s.b)((function(e){return{observable:e.observable}}),(function(e){return{actions:Object(O.b)(fe,e)}}))(de),be=function(e){Object(W.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(V.a)(this,a),(n=t.call(this,e)).handleOnSubmit=function(e){var t=n.props,a=t.actions,r=t.formManager,i=t.id,o=t.onSubmit,c=[],l=!1;e.preventDefault(),a.formSubmission({formId:i}),r.forms.forEach((function(e){e.formId===i&&(l=e.isValid,c=e.fields)}));var u={};c.forEach((function(e){var t,a=e.fieldId,n=e.value;(t=a,function(e){return function(a){return e[t]=a}})(u)(n)})),"function"===typeof o&&o(e,u,l)},e.actions.createNewForm({formId:e.id}),n}return Object(q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.id;return c.a.createElement("form",{id:a,onSubmit:this.handleOnSubmit},t)}}]),a}(c.a.Component),pe=Object.assign({},r,n),ve=Object(s.b)((function(e){return{formManager:e.formManager}}),(function(e){return{actions:Object(O.b)(pe,e)}}))(be),Oe=function(e){var t=e.notification,a=t.notify,n=t.notifyMessage,r=t.notifyType,i=e.history.push;return c.a.createElement(le,{notify:a,notifyMessage:n,notifyType:r,title:"Sign in to your account"},c.a.createElement("div",null,c.a.createElement(ve,{id:"SIGN_IN",onSubmit:function(t,a,n){n&&e.actions.httpRequest({data:{email:a.email_address,password:a.pwd},method:"post",url:"/account/login"})}},c.a.createElement(oe,{formId:"SIGN_IN",id:"email_address",label:"Email address (required)",type:"email",validator:"email"}),c.a.createElement(oe,{formId:"SIGN_IN",id:"pwd",label:"Password (required)",type:"password",validator:"default"}),c.a.createElement(Ee,{type:"submit",id:"sign_in",value:"Sign in"}),c.a.createElement(me,{type:"button",id:"createAccountLink",value:"Create account",onClick:function(){return i("/createAccount")}}))))},ye={HTTP_REQUEST:h},Ne=Object(X.a)(ye.HTTP_REQUEST),_e=Object.assign({},r,n,i),he=Object(s.b)((function(e){return{notification:e.globalNotification}}),(function(e){return{actions:Object(O.b)(_e,e)}}))(Oe),Ie=a(23),Te=a.n(Ie),ge=a(41),je=function(e){var t=e.history.push,a=function(){var e=Object(ge.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=e.notification,r=n.notify,i=n.notifyMessage,o=n.notifyType;return c.a.createElement(le,{notify:r,notifyMessage:i,notifyType:o,title:"Create account"},c.a.createElement("div",null,c.a.createElement("form",{onSubmit:a},c.a.createElement(oe,{id:"first_name",label:"First name (required)",type:"text"}),c.a.createElement(oe,{id:"last_name",label:"Last name (required)",type:"text"}),c.a.createElement(oe,{id:"email_address",label:"Email address (required)",type:"email",validator:"email"}),c.a.createElement(oe,{id:"pwd",label:"Password (required)",type:"password",validator:"password"}),c.a.createElement("div",{className:"primary"},c.a.createElement("button",{type:"submit",id:"create_account",value:"Create Account"},"Create Account")),c.a.createElement(me,{type:"button",id:"signInLink",value:"Sign in",onClick:function(){return t("/login")}}))))},Se=Object.assign({},n),Ae=Object(s.b)((function(e){return{notification:e.globalNotification}}),(function(e){return{actions:Object(O.b)(Se,e)}}))(je),Le=(a(75),function(e){var t=e.children,a=e.notifyMessage,n=e.notifyType,r=e.title;return c.a.createElement("div",{className:"profile"},c.a.createElement("header",null,c.a.createElement("h1",null,"{ .js }")),c.a.createElement("section",{className:"breadcrumbs"},c.a.createElement("h2",null,r)),a?c.a.createElement("section",{className:"notification"},c.a.createElement("div",{className:"message ".concat(n)},a)):null,c.a.createElement("section",{className:"main"},t),c.a.createElement("section",{className:"footer"},c.a.createElement("footer",null,"\xa9 copyright 2020")))}),Re=(a(76),function(e){Object(W.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(V.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={nameEditable:!1,emailEditable:!1,phoneEditable:!1},e.toggleEditName=function(t,a){e.setState({nameEditable:a})},e.toggleEditEmail=function(t,a){e.setState({emailEditable:a})},e.toggleEditPhone=function(t,a){e.setState({phoneEditable:a})},e}return Object(q.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.userProfileState,n=t.notification,r=a.firstName,i=a.lastName,o=a.email,l=a.phoneNumber,u=n.notify,s=n.notifyMessage,m=n.notifyType;return c.a.createElement(Le,{notify:u,notifyMessage:s,notifyType:m,title:"Update profile"},c.a.createElement("div",{className:"editProfile"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("form",null,c.a.createElement(oe,{editable:this.state.nameEditable,id:"first_name",label:"First name (required)",type:"text",value:r}),c.a.createElement(oe,{editable:this.state.nameEditable,id:"last_name",label:"Last name (required)",type:"text",value:i}),c.a.createElement("div",{className:"buttons"},this.state.nameEditable?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"secondary"},c.a.createElement("button",{type:"button",id:"cancelEditName",value:"Cancel",onClick:function(t){return e.toggleEditName(t,!1)}},"Cancel")),c.a.createElement("div",{className:"primary"},c.a.createElement("button",{type:"submit",id:"updateName",value:"Submit"},"Submit"))):c.a.createElement("div",{className:"buttonAsLink"},c.a.createElement("button",{type:"button",id:"editName",value:"Edit",onClick:function(t){return e.toggleEditName(t,!0)}},"Edit"))))),c.a.createElement("li",null,c.a.createElement("form",null,c.a.createElement(oe,{editable:this.state.emailEditable,id:"email_address",label:"Email address (required)",type:"email",value:o}),c.a.createElement("div",{className:"buttons"},this.state.emailEditable?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"secondary"},c.a.createElement("button",{type:"button",id:"cancelEditEmail",value:"Cancel",onClick:function(t){return e.toggleEditEmail(t,!1)}},"Cancel")),c.a.createElement("div",{className:"primary"},c.a.createElement("button",{type:"submit",id:"updateEmail",value:"Submit"},"Submit"))):c.a.createElement("div",{className:"buttonAsLink"},c.a.createElement("button",{type:"button",id:"editEmail",value:"Edit",onClick:function(t){return e.toggleEditEmail(t,!0)}},"Edit"))))),c.a.createElement("li",null,c.a.createElement("form",null,c.a.createElement(oe,{editable:this.state.phoneEditable,id:"phone_number",label:"Phone number (required)",type:"email",value:l}),c.a.createElement("div",{className:"buttons"},this.state.phoneEditable?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"secondary"},c.a.createElement("button",{type:"button",id:"cancelEditPhone",value:"Cancel",onClick:function(t){return e.toggleEditPhone(t,!1)}},"Cancel")),c.a.createElement("div",{className:"primary"},c.a.createElement("button",{type:"submit",id:"updatePhone",value:"Submit"},"Submit"))):c.a.createElement("div",{className:"buttonAsLink"},c.a.createElement("button",{type:"button",id:"editPhoneNumber",value:"Edit",onClick:function(t){return e.toggleEditPhone(t,!0)}},"Edit"))))))))}}]),a}(c.a.Component)),Ce=Object.assign({},n),Pe=Object(s.b)((function(e){return{notification:e.globalNotification,userProfileState:e.userProfile}}),(function(e){return{actions:Object(O.b)(Ce,e)}}))(Re),Fe=function(){return c.a.createElement(H.c,{history:w},c.a.createElement(H.d,null,c.a.createElement(H.a,{exact:!0,from:"/",to:"/login"}),c.a.createElement(H.b,{exact:!0,path:"/login",component:he,key:"acount-signin"}),c.a.createElement(H.b,{exact:!0,path:"/createAccount",component:Ae,key:"acount-create-account"}),c.a.createElement(H.b,{exact:!0,path:"/user/profile",component:Pe,key:"acount-user-profile"})))},Me=function(e){var t=[M,G,k,B],a=(0,O.d)(O.a.apply(void 0,t));return Object(O.e)(P,e,a)}();u.a.render(c.a.createElement(s.a,{store:Me},c.a.createElement(m.a,{history:w,store:Me},c.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.f76991ef.chunk.js.map